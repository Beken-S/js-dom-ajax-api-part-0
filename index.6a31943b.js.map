{"mappings":"AAAA,MAAM,YAAY,SAAS,aAAa,CAAC;AACzC,MAAM,QAAQ,UAAU,aAAa,CAAC;AACtC,MAAM,cAAc,UAAU,aAAa,CAAC;AAE5C,MAAM,mBAAmB,2BAA2B,aAAa;AAEjE,SAAS,2BAA2B,OAAO,EAAE,SAAS,EAAE;IACpD,IAAI,aAAa,QAAQ,iBAAiB;IAC1C,IAAI,YAAY,QAAQ,gBAAgB;IACxC,IAAI;IAEJ,OAAO,SAAU,SAAS,EAAE;QACxB,IAAI,CAAC,YACD,aAAa,QAAQ,iBAAiB;QAE1C,IAAI,CAAC,WACD,YAAY,QAAQ,gBAAgB;QAExC,IAAI,cAAc,QAAQ;YACtB,MAAM,YAAY,cAAc;YAEhC,IAAI,gBAAgB,WAAW;gBAC3B,aAAa,SAAS,CAAC,MAAM,CAAC;gBAC9B,UAAU,SAAS,CAAC,GAAG,CAAC;gBACxB,eAAe;gBACf,OAAO;YACX,CAAC;YAED,IAAI,cACA,aAAa,SAAS,CAAC,MAAM,CAAC;YAGlC,WAAW,SAAS,CAAC,GAAG,CAAC;YACzB,eAAe;YACf,OAAO;QACX,CAAC;QACD,IAAI,cAAc,MAAM;YACpB,MAAM,gBAAgB,cAAc;YAEpC,IAAI,gBAAgB,eAAe;gBAC/B,aAAa,SAAS,CAAC,MAAM,CAAC;gBAC9B,cAAc,SAAS,CAAC,GAAG,CAAC;gBAC5B,eAAe;gBACf,OAAO;YACX,CAAC;YAED,IAAI,cACA,aAAa,SAAS,CAAC,MAAM,CAAC;YAGlC,UAAU,SAAS,CAAC,GAAG,CAAC;YACxB,eAAe;YACf,OAAO;QACX,CAAC;QAED,OAAO;IACX;AACJ;AAEA,UAAU,gBAAgB,CAAC,WAAW,CAAC,IAAM;IACzC,IAAI,EAAE,IAAI,KAAK,aAAa;QACxB,MAAM,qBAAqB,iBAAiB;QAC5C,MAAM,KAAK,GAAG,mBAAmB,WAAW;IAChD,CAAC;IACD,IAAI,EAAE,IAAI,KAAK,WAAW;QACtB,EAAE,cAAc;QAChB,MAAM,sBAAqB,iBAAiB;QAC5C,MAAM,KAAK,GAAG,oBAAmB,WAAW;IAChD,CAAC;AACL;AAEA,MAAM,OAAO;IACT;QAAE,SAAS,IAAI;QAAE,OAAO;IAAS;IACjC;QAAE,SAAS,IAAI;QAAE,OAAO;IAAS;IACjC;QAAE,SAAS,IAAI;QAAE,OAAO;IAAS;IACjC;QAAE,SAAS,IAAI;QAAE,OAAO;IAAS;IACjC;QAAE,SAAS,IAAI;QAAE,OAAO;IAAS;IACjC;QAAE,SAAS,KAAK;QAAE,OAAO;IAAS;IAClC;QAAE,SAAS,KAAK;QAAE,OAAO;IAAS;IAClC;QAAE,SAAS,KAAK;QAAE,OAAO;IAAS;IAClC;QAAE,SAAS,KAAK;QAAE,OAAO;IAAS;IAClC;QAAE,SAAS,KAAK;QAAE,OAAO;IAAU;CACtC;AAED,SAAS,sBAAsB,WAAW,EAAE;IACxC,MAAM,WAAW,SAAS,sBAAsB;IAChD,YAAY,OAAO,CAAC,CAAC,aAAe;QAChC,MAAM,mBAAmB,SAAS,aAAa,CAAC;QAChD,iBAAiB,WAAW,GAAG,WAAW,KAAK;QAC/C,iBAAiB,SAAS,CAAC,GAAG,CAAC;QAE/B,IAAI,WAAW,OAAO,EAClB,iBAAiB,SAAS,CAAC,GAAG,CAAC;QAGnC,SAAS,MAAM,CAAC;IACpB;IACA,OAAO;AACX;AAEA,SAAS,OAAO,EAAE,EAAE,MAAM,EAAE;IACxB,GAAG,eAAe,CAAC;AACvB;AAEA,OAAO,aAAa,sBAAsB;AAE1C,WAAW,IAAM;IACb,IAAI,CAAC,EAAE,GAAG;QAAE,SAAS,KAAK;QAAE,OAAO;IAAU;IAC7C,OAAO,aAAa,sBAAsB;AAC9C,GAAG","sources":["src/scripts/index.js"],"sourcesContent":["const searchBox = document.querySelector('.search-box');\nconst field = searchBox.querySelector('.search-box__field');\nconst suggestions = searchBox.querySelector('.search-box__suggestions-list');\n\nconst selectSuggestion = selectChildrenSequentially(suggestions, 'search-box__suggestions-item_selected');\n\nfunction selectChildrenSequentially(element, className) {\n    let firstChild = element.firstElementChild;\n    let lastChild = element.lastElementChild;\n    let currentChild;\n\n    return function (direction) {\n        if (!firstChild) {\n            firstChild = element.firstElementChild;\n        }\n        if (!lastChild) {\n            lastChild = element.lastElementChild;\n        }\n        if (direction === 'down') {\n            const nextChild = currentChild?.nextElementSibling;\n\n            if (currentChild && nextChild) {\n                currentChild.classList.remove(className);\n                nextChild.classList.add(className);\n                currentChild = nextChild;\n                return currentChild;\n            }\n\n            if (currentChild) {\n                currentChild.classList.remove(className);\n            }\n\n            firstChild.classList.add(className);\n            currentChild = firstChild;\n            return currentChild;\n        }\n        if (direction === 'up') {\n            const previousChild = currentChild?.previousElementSibling;\n\n            if (currentChild && previousChild) {\n                currentChild.classList.remove(className);\n                previousChild.classList.add(className);\n                currentChild = previousChild;\n                return currentChild;\n            }\n\n            if (currentChild) {\n                currentChild.classList.remove(className);\n            }\n\n            lastChild.classList.add(className);\n            currentChild = lastChild;\n            return currentChild;\n        }\n\n        return currentChild;\n    };\n}\n\nsearchBox.addEventListener('keydown', (e) => {\n    if (e.code === 'ArrowDown') {\n        const currentSuggestions = selectSuggestion('down');\n        field.value = currentSuggestions.textContent;\n    }\n    if (e.code === 'ArrowUp') {\n        e.preventDefault();\n        const currentSuggestions = selectSuggestion('up');\n        field.value = currentSuggestions.textContent;\n    }\n});\n\nconst test = [\n    { visited: true, value: 'test 1' },\n    { visited: true, value: 'test 2' },\n    { visited: true, value: 'test 3' },\n    { visited: true, value: 'test 4' },\n    { visited: true, value: 'test 5' },\n    { visited: false, value: 'test 6' },\n    { visited: false, value: 'test 7' },\n    { visited: false, value: 'test 8' },\n    { visited: false, value: 'test 9' },\n    { visited: false, value: 'test 10' },\n];\n\nfunction getSuggestionsOptions(suggestions) {\n    const fragment = document.createDocumentFragment();\n    suggestions.forEach((suggestion) => {\n        const suggestionOption = document.createElement('li');\n        suggestionOption.textContent = suggestion.value;\n        suggestionOption.classList.add('search-box__suggestions-item');\n\n        if (suggestion.visited) {\n            suggestionOption.classList.add('search-box__suggestions-item_visited');\n        }\n\n        fragment.append(suggestionOption);\n    });\n    return fragment;\n}\n\nfunction render(to, markup) {\n    to.replaceChildren(markup);\n}\n\nrender(suggestions, getSuggestionsOptions(test));\n\nsetTimeout(() => {\n    test[1] = { visited: false, value: 'test 11' };\n    render(suggestions, getSuggestionsOptions(test));\n}, 3000);\n"],"names":[],"version":3,"file":"index.6a31943b.js.map","sourceRoot":"/__parcel_source_root/"}